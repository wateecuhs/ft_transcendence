<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bureau Windows 98</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/desktop.css">
    <link rel="stylesheet" href="css/desktop-icons.css">
    <link rel="stylesheet" href="css/taskbar.css">
    <link rel="stylesheet" href="css/taskbar_start.css">
    <link rel="stylesheet" href="css/window.css">
    <link rel="stylesheet" href="css/explorerWindow.css">
    <link rel="stylesheet" href="css/accountWindow.css">
    <link rel="stylesheet" href="css/msn.css">
    <link rel="stylesheet" href="css/winbook.css">
    <link rel="stylesheet" href="css/loginPage.css">
    <link rel="stylesheet" href="css/updateUserWindow.css">
    <link rel="stylesheet" href="css/pong.css">
    <link rel="stylesheet" href="css/activate_2fa.css">
    <link rel="stylesheet" href="css/sign_2fa.css">
    <link rel="stylesheet" href="css/alert_win98.css">
</head>
<body class="desktop">

  <div class="login-page" id="login-id-page">

    <div class="login-page-header">Demarrage Win98</div>

    <div class="sign-in">

      <input type="text" id="sign-in-username" class="input-login-page" placeholder="username">
      <input type="password" id="sign-in-password" class="input-login-page" placeholder="password">
      <button id="sign-in-button" class="button-login-page">sign-in</button>

    </div>

    <div class="sign-up">
      <button id="button-sign-up-page" class="button-login-page">sign-up</button>

      <div class="register" style="display: none;">

        <input type="text" id="sign-up-username" class="input-login-page" placeholder="username">
        <input type="text" id="sign-up-email" class="input-login-page" placeholder="email">
        <input type="password" id="sign-up-password" class="input-login-page" placeholder="password">
        <input type="password" id="sign-up-confirm-password" class="input-login-page" placeholder="confirm password">

        <button id="button-register-page" class="button-login-page">register</button>
      </div>

    </div>

    <div class="login-42">
      <button class="button-login-42">Login 42</button>
    </div>

  <div class="window" id="window-2fa-sign" style="display: none;">

    <div class="window-header">

      <div class="arrow-buttons">
        <button class="left-arrow"> &lt </button>
        <button class="right-arrow"> &gt </button>
      </div>
      <div class="header-title">Sign 2FA</div>
      <button class="close-button">X</button>

    </div>

    <div class="window-content">
      <p>Enter your 2fa code</p>
      <input type="text" id="2fa-input" class="input-login-page" placeholder="Code">
      <button class="button-login-page" id="2fa-button">Validate</button>
    </div>
  </div>

  </div>

  <!-- Alerte Windows -->
  <div class="window" id="window-alert" style="display: none">
    <div class="window-header">

      <div class="header-title">MiniSoft DataLink</div>
      <button class="close-button">X</button>

    </div>

    <div class="window-content">
      <div>
        <img src="img/png/msg_warning-0.png" class="warning-img" alt="message-warning">
        <span class="warning-text">This is a message</span>
      </div>
      <button class="close-button-alert">OK</button>
    </div>
  </div>

  <!-- La barre de taches -->
  <div class="taskbar">

    <!-- Affiche les optios du boutton start -->
    <button class="start-btn" onclick="toogleStartMenu()">
      <img src="img/png/windows-0.png" alt="Start Icon" class="start-icon">Start
    </button>

    <div class="start-menu" style="display: none;">
      <ul>
        <li>
          <!-- Creer le fenetre poste de travail-->
          <button class="menu-btn work-desk-btn" onclick="toogleWorkDesk()">Poste de travail</button>
        </li>
        <li>
          <button class="menu-btn work-desk-btn" onclick="toogleAccountWindow()">Compte</button>
        </li>
        <li>Parametres</li>
        <li>Executer...</li>
      </ul>
    </div>

    <!-- L'heure est affichee et mise a jour -->
    <div class="taskbar-items">
        <span class="time">
          <img src="img/png/time_and_date-0.png" alt="Time Icon" class="time-icon">
          <span class="time-text">12:00 PM</span>
        </span>
    </div>
  </div>

  <!-- Toutes les fenetres de la taskbar-->

  <!-- Explorateur de fichier -->
  <div class="window" id="explorerWindow" style="display: none;">

    <div class="window-header">

      <div class="arrow-buttons">
        <button class="left-arrow"> &lt </button>
        <button class="right-arrow"> &gt </button>
      </div>
      <div class="header-title">Windows Explorer</div>
      <button class="close-button">X</button>

    </div>

    <div class="window-content">
      <ul>

      </ul>
    </div>
  </div>

  <!-- Fenetre du compte -->
  <div class="window" id="accountWindow" style="display: none;">

    <div class="window-header">

      <div class="arrow-buttons">
        <button class="left-arrow"> &lt </button>
        <button class="right-arrow"> &gt </button>
      </div>

      <div class="header-title">Account</div>
      <button class="close-button">X</button>

    </div>

    <input type="file" id="file-input" style="display: none;" onchange="changeImage()" accept="image/*">

    <div class="window-content">

      <div class="account-page" id="account-page-0" style="display: none">
        <div class="user-img">
          <img src="img/png/game_spider-0.png" onclick="openFileSelector()">
          <span>default pseudo</span>
          <span>
            <button id="user2FA">2FA</button>
          </span>
        </div>

        <ul>
          <li> name: default </li>
          <li> email address: default@gmail.com</li>
          <li> 42 member: true</li>
          <li> alias: default_alias</li>
        </ul>

        <button class="change-user-info" onclick="displayUserUpdateWindow()">Update Profile</button>
      </div>

      <div class="account-page" id="account-page-1" style="display: none">
        <div class="user-stat-title"> User statistic </div>

        <ul>
          <li>Number of matches: 8</li>
          <li>Matches Won: 5</li>
          <li>Matches lost: 3</li>
          <li>Win rate: 60%</li>
          <li>Goal Scored: </li>
          <li>Goal Conceded: </li>
        </ul>
      </div>

      <div class="account-page" id="account-page-2" style="display: none">
        <div class="user-friends-title"> User friends </div>

        <ul class="friends-list">
          <li class="friend-item">
            <span class="friend-name">user2:</span>
            <button>See profile</button>
          </li>
          <li class="friend-item">
            <span class="friend-name">user3:</span>
            <button>See profile</button>
          </li>
          <li class="friend-item">
            <span class="friend-name">user4:</span>
            <button>See profile</button>
          </li>
        </ul>

      </div>

      <div class="number-pages">1/4</div>
    </div>
  </div>

  <div class="window" id="updateUserWindow" style="display: none">

    <div class="window-header">

      <div class="arrow-buttons">
        <button class="left-arrow"> &lt </button>
        <button class="right-arrow"> &gt </button>
      </div>

      <div class="header-title">Account</div>
      <button class="close-button">X</button>

    </div>

    <div class="window-content">
      <input type="text" placeholder="alias">
      <input type="text" placeholder="email">
      <input type="password" placeholder="old_password">
      <input type="password" placeholder="password">
      <input type="password" placeholder="confirm password">

      <button id="updateButton">Update Info</button>
    </div>
  </div>

  <div class="window" id="activate-2fa" style="display: none">

    <div class="window-header">

      <div class="arrow-buttons">
        <button class="left-arrow"> &lt </button>
        <button class="right-arrow"> &gt </button>
      </div>

      <div class="header-title">Activate 2FA</div>
      <button class="close-button">X</button>

    </div>

    <div class="window-content">
      <img id="img-qr-code">
      <input type="text" placeholder="Enter Code">
      <button id="valide-qr-code-id">Validate</button>
    </div>
  </div>



   <!-- Icone du Bureau -->
  <div class="desktop-icons">

      <div class="icon" draggable="true" id="Poste de travail">
          <img src="img/png/computer-0.png" alt="My Computer">
          <p class="icon-text">Poste de travail</p>
      </div>


      <div class="icon" draggable="true" id="Msn">
        <img src="img/png/msn.png" alt="Msn">
        <p class="icon-text">Msn</p>
      </div>

      <div class="icon" draggable="true" id="Pong">
        <img src="img/png/game_freecell-0.png" alt="Pong">
        <p class="icon-text">Pong</p>
      </div>

      <div class="icon" draggable="true" id="Winbook">
        <img src="img/png/internet_connection_wiz-0.png" alt="Winbook">
        <p class="icon-text">Winbook</p>
      </div>

      <div class="icon" draggable="true" id="Corbeille">
        <img src="img/png/recycle_bin_directory.png" alt="Recycle Bin">
        <p class="icon-text">Corbeille</p>
    </div>
  </div>

  <div class="window" id="msnWindow" style="display: none">
    <div class="window-header">
      <div class="arrow-buttons">
        <button class="left-arrow"> &lt </button>
        <button class="right-arrow"> &gt </button>
      </div>
      <div class="header-title">MSN</div>
      <button class="close-button">X</button>
    </div>

    <div class="window-content">

    <div class="chat-tab">
      <div class="general-tab">
        <p>General</p>
      </div>
      <div class="client tab">
        <ul>
          <li>Client1</li>
          <li>Client2</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client1</li>
          <li>Client2</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
          <li>Client3</li>
        </ul>
      </div>
    </div>

    <div class="msn-page" id="msn-page-0" style="display: none">
      <div class="chat-area">
        <div class="chat-messages"></div>
        <div class="input-container">
          <input type="text" class="chat-input" placeholder="Type a message" />
          <button class="send-button">Send</button>
        </div>
      </div>
    </div>
  </div>

  </div>

  <div class="window" id="winBook" style="display: none">
    <div class="window-header">
      <div class="arrow-buttons">
        <button class="left-arrow">&lt</button>
        <button class="right-arrow">&gt</button>
      </div>
      <div class="header-title">Winbook - Inscription Tournoi Pong</div>
      <button class="close-button">X</button>
    </div>

    <div class="window-content">
      <div class="search-content">
        <div class="tabs">
          <div class="tab active" data-tab="tab-search">Search</div>
          <div class="tab" data-tab="tab-create">Create</div>
        </div>

        <div class="tab-content">

          <div class="tab-pane" id="tab-search" style="display: flex;">
            <div class="search-section">
              <input type="text" id="search-tournament" class="input-field" placeholder="Rechercher un tournoi">
              <button id="search-button" class="button-98">Rechercher</button>
            </div>
            <ul class="result-list" id="tournament-results"></ul>
          </div>

          <div class="tab-pane" id="tab-create" style="display: none;">
            <div class="create-section">
              <input type="text" id="create-tournament-name" class="input-field" placeholder="Nom du tournoi">
              <button id="create-tournament-button" class="button-98">Créer</button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="tournament-content">
        <div class="tournament-pane">
          <h2 id="tournament-name">No Tournament Selected</h2> 
        <ul id="player-list">
          <li>Empty</li>
        </ul>
        <button id="ready-button" class="button">Ready</button>
        </div>
      </div>
  </div>

  <div class="window fullscreen" id="PongGame" style="display: none">
    <div class="window-header">
      <div class="arrow-buttons">
        <button class="left-arrow">&lt;</button>
        <button class="right-arrow">&gt;</button>
      </div>
      <div class="header-title">Winbook - Inscription Tournoi Pong</div>
      <button class="close-button">X</button>
    </div>
  </div>

  <script src="/js/explorerWindow.js"></script>
  <script src="js/accountWindow.js"></script>
  <script src="/js/start_menu.js"></script>
  <script src="/js/move_icon.js"></script>
  <script src="/js/update_time.js"></script>
  <script src="js/msn.js"></script>
  <script src="js/winbook.js"></script>
  <script src="js/userInfo.js"></script>
  <script src="js/account.js"></script>
  <script src="js/sign.js"></script>
  <script src="js/loginPageAnim.js"></script>
  <script src="js/userInfo.js"></script>
  <script src="js/updateUserWindow.js"></script>
  <script src="js/changeImage.js"></script>
  <script src="js/pong.js"></script>
  <script src="js/2fa.js"></script>
  <script src="js/alertWin98.js"></script>
  <script>
    window.onload = function () {
      loadMessageHistory();
      ws = initWebSocket();
      updateTime();
      setInterval(updateTime, 1000);
    }
  </script>
</body>
</html>
